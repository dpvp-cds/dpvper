<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escala DPvPer - Diagnóstico en Propósito de Vida Personal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #F8F7F2; color: #6B6661; }
        h1, h2, h3 { font-family: 'Playfair Display', serif; color: #070404; }
        .btn-brand { background-color: #E8A613; color: white; padding: 12px 30px; border-radius: 9999px; font-weight: 600; transition: all 0.3s ease; }
        .btn-brand:hover { background-color: #d4940f; transform: translateY(-2px); }
        .btn-brand:disabled { background-color: #f3d484; cursor: not-allowed; }
        .input-styled { border: 1px solid #d1d5db; border-radius: 8px; padding: 10px 15px; width: 100%; background-color: white; }
        .card { background-color: white; border-radius: 16px; padding: 2rem; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .question-card { margin-bottom: 2rem; }
        .option-label { display: block; padding: 1rem; border: 1px solid #d1d5db; border-radius: 8px; cursor: pointer; transition: all 0.2s ease-in-out; }
        .option-label:hover { border-color: #E8A613; }
        input[type="radio"]:checked + .option-label { border-color: #E8A613; background-color: #fef9f0; box-shadow: 0 0 0 2px #E8A613; }
        input[type="radio"] { display: none; }
    </style>
</head>
<body class="leading-relaxed">

    <!-- BARRA DE NAVEGACIÓN -->
    <nav class="bg-white py-4 shadow-sm sticky top-0 z-20">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <a href="index.html">
                <img src="logoprincipal.png" alt="Logo DPvPer" class="h-12">
            </a>
            <div class="hidden md:flex items-center space-x-8">
                <a href="https://caminosdelser.co" class="text-gray-600 hover:text-[#E8A613]">Inicio</a>
                <a href="BaseTeorica_PI.pdf" target="_blank" class="text-gray-600 hover:text-[#E8A613]">Base Teórica</a>
                <a href="https://wa.me/573233796547" target="_blank" class="text-gray-600 hover:text-[#E8A613]">Contacto</a>
            </div>
        </div>
    </nav>

    <!-- SECCIÓN DE INTRODUCCIÓN (HERO) -->
    <section id="hero-section" class="text-center py-20 lg:py-32 px-6 bg-white">
        <h1 class="text-4xl md:text-6xl font-bold mb-4">Descubre tu Propósito de Vida.</h1>
        <p class="text-lg md:text-xl max-w-3xl mx-auto mb-8">La Escala DPvPer es una herramienta de autodescubrimiento diseñada para ayudarte a identificar tus impulsores internos y encontrar tu brújula personal. Descubre qué te mueve y cómo alinear tu vida con tu verdadera esencia.</p>
    </section>

    <main class="container mx-auto px-6 pb-12">
        <form id="dpvperForm" novalidate>
            <!-- CONTENEDOR DE DATOS DEMOGRÁFICOS -->
            <div id="demographics-wrapper">
                <section class="card mb-12">
                    <h2 class="text-3xl mb-6 border-b pb-4">Paso 1: Comencemos por conocerte</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="nombre" class="font-medium block mb-2">Nombre Completo</label>
                            <input type="text" id="nombre" class="input-styled" required>
                        </div>
                        <div>
                            <label for="email" class="font-medium block mb-2">Correo Electrónico</label>
                            <input type="email" id="email" class="input-styled" required pattern="^[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}$" title="Por favor, ingrese una dirección de correo válida sin tildes ni caracteres especiales.">
                        </div>
                        <div>
                            <label for="edad" class="font-medium block mb-2">Edad</label>
                            <input type="number" id="edad" class="input-styled" min="15" required>
                        </div>
                        <div>
                            <label for="pais" class="font-medium block mb-2">País de Residencia</label>
                            <select id="pais" class="input-styled" required>
                                <option value="">Selecciona tu país...</option>
                                <option value="Afganistán">Afganistán</option>
                                <option value="Albania">Albania</option>
                                <option value="Alemania">Alemania</option>
                                <option value="Andorra">Andorra</option>
                                <option value="Angola">Angola</option>
                                <option value="Antigua y Barbuda">Antigua y Barbuda</option>
                                <option value="Arabia Saudita">Arabia Saudita</option>
                                <option value="Argelia">Argelia</option>
                                <option value="Argentina">Argentina</option>
                                <option value="Armenia">Armenia</option>
                                <option value="Australia">Australia</option>
                                <option value="Austria">Austria</option>
                                <option value="Azerbaiyán">Azerbaiyán</option>
                                <option value="Bahamas">Bahamas</option>
                                <option value="Bangladés">Bangladés</option>
                                <option value="Barbados">Barbados</option>
                                <option value="Baréin">Baréin</option>
                                <option value="Bélgica">Bélgica</option>
                                <option value="Belice">Belice</option>
                                <option value="Benín">Benín</option>
                                <option value="Bielorrusia">Bielorrusia</option>
                                <option value="Birmania/Myanmar">Birmania/Myanmar</option>
                                <option value="Bolivia">Bolivia</option>
                                <option value="Bosnia y Herzegovina">Bosnia y Herzegovina</option>
                                <option value="Botsuana">Botsuana</option>
                                <option value="Brasil">Brasil</option>
                                <option value="Brunéi">Brunéi</option>
                                <option value="Bulgaria">Bulgaria</option>
                                <option value="Burkina Faso">Burkina Faso</option>
                                <option value="Burundi">Burundi</option>
                                <option value="Bután">Bután</option>
                                <option value="Cabo Verde">Cabo Verde</option>
                                <option value="Camboya">Camboya</option>
                                <option value="Camerún">Camerún</option>
                                <option value="Canadá">Canadá</option>
                                <option value="Catar">Catar</option>
                                <option value="Chad">Chad</option>
                                <option value="Chile">Chile</option>
                                <option value="China">China</option>
                                <option value="Chipre">Chipre</option>
                                <option value="Ciudad del Vaticano">Ciudad del Vaticano</option>
                                <option value="Colombia">Colombia</option>
                                <option value="Comoras">Comoras</option>
                                <option value="Corea del Norte">Corea del Norte</option>
                                <option value="Corea del Sur">Corea del Sur</option>
                                <option value="Costa de Marfil">Costa de Marfil</option>
                                <option value="Costa Rica">Costa Rica</option>
                                <option value="Croacia">Croacia</option>
                                <option value="Cuba">Cuba</option>
                                <option value="Dinamarca">Dinamarca</option>
                                <option value="Dominica">Dominica</option>
                                <option value="Ecuador">Ecuador</option>
                                <option value="Egipto">Egipto</option>
                                <option value="El Salvador">El Salvador</option>
                                <option value="Emiratos Árabes Unidos">Emiratos Árabes Unidos</option>
                                <option value="Eritrea">Eritrea</option>
                                <option value="Eslovaquia">Eslovaquia</option>
                                <option value="Eslovenia">Eslovenia</option>
                                <option value="España">España</option>
                                <option value="Estados Unidos">Estados Unidos</option>
                                <option value="Estonia">Estonia</option>
                                <option value="Etiopía">Etiopía</option>
                                <option value="Filipinas">Filipinas</option>
                                <option value="Finlandia">Finlandia</option>
                                <option value="Fiyi">Fiyi</option>
                                <option value="Francia">Francia</option>
                                <option value="Gabón">Gabón</option>
                                <option value="Gambia">Gambia</option>
                                <option value="Georgia">Georgia</option>
                                <option value="Ghana">Ghana</option>
                                <option value="Granada">Granada</option>
                                <option value="Grecia">Grecia</option>
                                <option value="Guatemala">Guatemala</option>
                                <option value="Guyana">Guyana</option>
                                <option value="Guinea">Guinea</option>
                                <option value="Guinea ecuatorial">Guinea ecuatorial</option>
                                <option value="Guinea-Bisáu">Guinea-Bisáu</option>
                                <option value="Haití">Haití</option>
                                <option value="Honduras">Honduras</option>
                                <option value="Hungría">Hungría</option>
                                <option value="India">India</option>
                                <option value="Indonesia">Indonesia</option>
                                <option value="Irak">Irak</option>
                                <option value="Irán">Irán</option>
                                <option value="Irlanda">Irlanda</option>
                                <option value="Islandia">Islandia</option>
                                <option value="Islas Marshall">Islas Marshall</option>
                                <option value="Islas Salomón">Islas Salomón</option>
                                <option value="Israel">Israel</option>
                                <option value="Italia">Italia</option>
                                <option value="Jamaica">Jamaica</option>
                                <option value="Japón">Japón</option>
                                <option value="Jordania">Jordania</option>
                                <option value="Kazajistán">Kazajistán</option>
                                <option value="Kenia">Kenia</option>
                                <option value="Kirguistán">Kirguistán</option>
                                <option value="Kiribati">Kiribati</option>
                                <option value="Kuwait">Kuwait</option>
                                <option value="Laos">Laos</option>
                                <option value="Lesoto">Lesoto</option>
                                <option value="Letonia">Letonia</option>
                                <option value="Líbano">Líbano</option>
                                <option value="Liberia">Liberia</option>
                                <option value="Libia">Libia</option>
                                <option value="Liechtenstein">Liechtenstein</option>
                                <option value="Lituania">Lituania</option>
                                <option value="Luxemburgo">Luxemburgo</option>
                                <option value="Macedonia del Norte">Macedonia del Norte</option>
                                <option value="Madagascar">Madagascar</option>
                                <option value="Malasia">Malasia</option>
                                <option value="Malaui">Malaui</option>
                                <option value="Maldivas">Maldivas</option>
                                <option value="Malí">Malí</option>
                                <option value="Malta">Malta</option>
                                <option value="Marruecos">Marruecos</option>
                                <option value="Mauricio">Mauricio</option>
                                <option value="Mauritania">Mauritania</option>
                                <option value="México">México</option>
                                <option value="Micronesia">Micronesia</option>
                                <option value="Moldavia">Moldavia</option>
                                <option value="Mónaco">Mónaco</option>
                                <option value="Mongolia">Mongolia</option>
                                <option value="Montenegro">Montenegro</option>
                                <option value="Mozambique">Mozambique</option>
                                <option value="Namibia">Namibia</option>
                                <option value="Nauru">Nauru</option>
                                <option value="Nepal">Nepal</option>
                                <option value="Nicaragua">Nicaragua</option>
                                <option value="Níger">Níger</option>
                                <option value="Nigeria">Nigeria</option>
                                <option value="Noruega">Noruega</option>
                                <option value="Nueva Zelanda">Nueva Zelanda</option>
                                <option value="Omán">Omán</option>
                                <option value="Países Bajos">Países Bajos</option>
                                <option value="Pakistán">Pakistán</option>
                                <option value="Palaos">Palaos</option>
                                <option value="Panamá">Panamá</option>
                                <option value="Papúa Nueva Guinea">Papúa Nueva Guinea</option>
                                <option value="Paraguay">Paraguay</option>
                                <option value="Perú">Perú</option>
                                <option value="Polonia">Polonia</option>
                                <option value="Portugal">Portugal</option>
                                <option value="Reino Unido">Reino Unido</option>
                                <option value="República Centroafricana">República Centroafricana</option>
                                <option value="República Checa">República Checa</option>
                                <option value="República del Congo">República del Congo</option>
                                <option value="República Democrática del Congo">República Democrática del Congo</option>
                                <option value="República Dominicana">República Dominicana</option>
                                <option value="Ruanda">Ruanda</option>
                                <option value="Rumanía">Rumanía</option>
                                <option value="Rusia">Rusia</option>
                                <option value="Samoa">Samoa</option>
                                <option value="San Cristóbal y Nieves">San Cristóbal y Nieves</option>
                                <option value="San Marino">San Marino</option>
                                <option value="San Vicente y las Granadinas">San Vicente y las Granadinas</option>
                                <option value="Santa Lucía">Santa Lucía</option>
                                <option value="Santo Tomé y Príncipe">Santo Tomé y Príncipe</option>
                                <option value="Senegal">Senegal</option>
                                <option value="Serbia">Serbia</option>
                                <option value="Seychelles">Seychelles</option>
                                <option value="Sierra Leona">Sierra Leona</option>
                                <option value="Singapur">Singapur</option>
                                <option value="Siria">Siria</option>
                                <option value="Somalia">Somalia</option>
                                <option value="Sri Lanka">Sri Lanka</option>
                                <option value="Suazilandia">Suazilandia</option>
                                <option value="Sudáfrica">Sudáfrica</option>
                                <option value="Sudán">Sudán</option>
                                <option value="Sudán del Sur">Sudán del Sur</option>
                                <option value="Suecia">Suecia</option>
                                <option value="Suiza">Suiza</option>
                                <option value="Surinam">Surinam</option>
                                <option value="Tailandia">Tailandia</option>
                                <option value="Tanzania">Tanzania</option>
                                <option value="Tayikistán">Tayikistán</option>
                                <option value="Timor Oriental">Timor Oriental</option>
                                <option value="Togo">Togo</option>
                                <option value="Tonga">Tonga</option>
                                <option value="Trinidad y Tobago">Trinidad y Tobago</option>
                                <option value="Túnez">Túnez</option>
                                <option value="Turkmenistán">Turkmenistán</option>
                                <option value="Turquía">Turquía</option>
                                <option value="Tuvalu">Tuvalu</option>
                                <option value="Ucrania">Ucrania</option>
                                <option value="Uganda">Uganda</option>
                                <option value="Uruguay">Uruguay</option>
                                <option value="Uzbekistán">Uzbekistán</option>
                                <option value="Vanuatu">Vanuatu</option>
                                <option value="Venezuela">Venezuela</option>
                                <option value="Vietnam">Vietnam</option>
                                <option value="Yemen">Yemen</option>
                                <option value="Yibuti">Yibuti</option>
                                <option value="Zambia">Zambia</option>
                                <option value="Zimbabue">Zimbabue</option>
                            </select>
                        </div>
                        <div>
                            <label for="nivel_educativo" class="font-medium block mb-2">Nivel Educativo</label>
                            <select id="nivel_educativo" class="input-styled" required>
                                <option value="">Selecciona...</option>
                                <option value="Secundaria / Bachillerato">Secundaria / Bachillerato</option>
                                <option value="Técnico / Tecnológico">Técnico / Tecnológico</option>
                                <option value="Universitario / Profesional">Universitario / Profesional</option>
                                <option value="Postgrado">Postgrado (Especialización, Maestría, Doctorado)</option>
                            </select>
                        </div>
                        <div>
                            <label for="situacion_laboral" class="font-medium block mb-2">Situación Laboral Actual</label>
                            <select id="situacion_laboral" class="input-styled" required>
                                <option value="">Selecciona...</option>
                                <option value="Estudiante">Estudiante</option>
                                <option value="Empleado/a">Empleado/a</option>
                                <option value="Independiente / Emprendedor/a">Independiente / Emprendedor/a</option>
                                <option value="En búsqueda de empleo">En búsqueda de empleo</option>
                                <option value="Labores del hogar">Labores del hogar</option>
                                <option value="Retirado/a / Pensionado/a">Retirado/a / Pensionado/a</option>
                            </select>
                        </div>
                        <div>
                            <label for="situacion_sentimental" class="font-medium block mb-2">Situación Sentimental</label>
                            <select id="situacion_sentimental" class="input-styled" required>
                                <option value="">Selecciona...</option>
                                <option value="Soltero/a">Soltero/a</option>
                                <option value="En una relación / Unión libre">En una relación / Unión libre</option>
                                <option value="Casado/a">Casado/a</option>
                                <option value="Separado/a / Divorciado/a">Separado/a / Divorciado/a</option>
                                <option value="Viudo/a">Viudo/a</option>
                            </select>
                        </div>
                        <div>
                            <label for="hijos" class="font-medium block mb-2">Número de Hijos</label>
                            <input type="number" id="hijos" class="input-styled" placeholder="0" min="0" required>
                        </div>
                         <div>
                            <label for="mascotas" class="font-medium block mb-2">Mascotas</label>
                            <select id="mascotas" class="input-styled" required>
                                <option value="">Selecciona...</option>
                                <option value="No tengo y no me gustan">No tengo y no me gustan</option>
                                <option value="No tengo, pero me gustan">No tengo, pero me gustan</option>
                                <option value="Sí, tengo una o más">Sí, tengo una o más</option>
                            </select>
                        </div>
                    </div>
                    <div id="demographics-validation" class="text-red-600 text-center mt-4 hidden">Por favor, completa todos los campos correctamente.</div>
                    <div class="text-center mt-6">
                        <button type="button" id="start-questionnaire-button" class="btn-brand text-lg">Iniciar Diagnóstico</button>
                    </div>
                </section>
            </div>

            <!-- CONTENEDOR DEL CUESTIONARIO (INICIALMENTE OCULTO) -->
            <div id="cuestionario-wrapper" class="hidden">
                <section id="cuestionario">
                    <h2 class="text-3xl mb-2 border-b pb-4">Paso 2: Exploremos tu mundo interior</h2>
                    <p class="mt-4 mb-6 text-base">A continuación, encontrarás 12 preguntas de selección. Elige la opción que más resuene contigo de forma intuitiva, sin pensarlo demasiado. Este cuestionario no te tomará más de 5 minutos.</p>
                    
                    <!-- PREGUNTAS 1-12 ACTUALIZADAS -->
                    <div class="card question-card">
                        <h3 class="text-xl mb-4">1. Cuando te sientes completamente absorto y lleno de energía, generalmente estás...</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q1" id="q1a" value="a" required><label for="q1a" class="option-label">a) Resolviendo un problema complejo o analizando datos.</label>
                            <input type="radio" name="q1" id="q1b" value="b"><label for="q1b" class="option-label">b) Creando algo nuevo, ya sea artístico, escrito o una solución innovadora.</label>
                            <input type="radio" name="q1" id="q1c" value="c"><label for="q1c" class="option-label">c) Conectando con personas, escuchando, enseñando o liderando un equipo.</label>
                            <input type="radio" name="q1" id="q1d" value="e"><label for="q1d" class="option-label">d) Organizando, planificando o mejorando un sistema para hacerlo más eficiente.</label>
                            <input type="radio" name="q1" id="q1e" value="d"><label for="q1e" class="option-label">e) En movimiento, realizando una actividad física o explorando un lugar.</label>
                            <input type="radio" name="q1" id="q1f" value="f"><label for="q1f" class="option-label">f) En un espacio de calma, reflexionando, meditando o conectando con tu interior.</label>
                        </div>
                    </div>
                    
                    <div class="card question-card">
                        <h3 class="text-xl mb-4">2. ¿Cuál de estos valores es tu "no negociable" fundamental en la vida? Si tuvieras que elegir solo uno como tu pilar principal, sería...</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q2" id="q2a" value="d" required><label for="q2a" class="option-label">a) Libertad: La capacidad de elegir tu propio camino y ser autónomo.</label>
                            <input type="radio" name="q2" id="q2b" value="f"><label for="q2b" class="option-label">b) Seguridad: La estabilidad, el orden y la protección para ti y los tuyos.</label>
                            <input type="radio" name="q2" id="q2c" value="b"><label for="q2c" class="option-label">c) Crecimiento: El aprendizaje constante, la superación de retos y la evolución personal.</label>
                            <input type="radio" name="q2" id="q2d" value="c"><label for="q2d" class="option-label">d) Conexión: Las relaciones profundas, el amor, la amistad y el sentido de comunidad.</label>
                            <input type="radio" name="q2" id="q2e" value="a"><label for="q2e" class="option-label">e) Integridad: La honestidad, la coherencia entre tus valores y tus acciones.</label>
                            <input type="radio" name="q2" id="q2f" value="e"><label for="q2f" class="option-label">f) Impacto: Hacer una diferencia, contribuir a algo más grande que tú mismo.</label>
                        </div>
                    </div>

                    <div class="card question-card">
                        <h3 class="text-xl mb-4">3. Al final de tu vida, ¿qué logro te haría sentir que todo valió la pena?</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q3" id="q3a" value="c" required><label for="q3a" class="option-label">a) Haber construido relaciones profundas y dejado una huella de amor y apoyo en mi círculo cercano.</label>
                            <input type="radio" name="q3" id="q3b" value="a"><label for="q3b" class="option-label">b) Haber alcanzado la maestría en mi campo y ser reconocido por mi conocimiento y habilidad.</label>
                            <input type="radio" name="q3" id="q3c" value="e"><label for="q3c" class="option-label">c) Haber creado una empresa, un patrimonio o una obra tangible que perdure en el tiempo.</label>
                            <input type="radio" name="q3" id="q3d" value="d"><label for="q3d" class="option-label">d) Haber vivido una vida de aventuras, experiencias diversas y máxima libertad.</label>
                            <input type="radio" name="q3" id="q3e" value="e"><label for="q3e" class="option-label">e) Haber ayudado a muchas personas o contribuido a resolver un problema social importante.</label>
                            <input type="radio" name="q3" id="q3f" value="f"><label for="q3f" class="option-label">f) Haber alcanzado un profundo estado de paz interior, sabiduría y autoconocimiento.</label>
                        </div>
                    </div>

                    <div class="card question-card">
                        <h3 class="text-xl mb-4">4. Si no existieran el miedo ni las limitaciones económicas, tu principal impulso sería...</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q4" id="q4a" value="b" required><label for="q4a" class="option-label">a) Crear: Dedicarte al arte, la música, la escritura o la invención.</label>
                            <input type="radio" name="q4" id="q4b" value="d"><label for="q4b" class="option-label">b) Explorar: Viajar por el mundo, aprender de otras culturas y vivir nuevas experiencias.</label>
                            <input type="radio" name="q4" id="q4c" value="e"><label for="q4c" class="option-label">c) Ayudar: Fundar una organización benéfica, ser voluntario o dedicarte al servicio de otros.</label>
                            <input type="radio" name="q4" id="q4d" value="a"><label for="q4d" class="option-label">d) Aprender: Estudiar sin parar, investigar temas profundos y convertirte en un experto.</label>
                            <input type="radio" name="q4" id="q4e" value="e"><label for="q4e" class="option-label">e) Construir: Emprender un negocio, liderar un gran proyecto o edificar algo desde cero.</label>
                            <input type="radio" name="q4" id="q4f" value="f"><label for="q4f" class="option-label">f) Sanar: Trabajar en tu propio bienestar y ayudar a otros a encontrar su equilibrio físico, mental y espiritual.</label>
                        </div>
                    </div>

                    <div class="card question-card">
                        <h3 class="text-xl mb-4">5. La principal fuente de incoherencia en tu vida (cuando no haces lo que dices que quieres hacer) suele ser...</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q5" id="q5a" value="c" required><label for="q5a" class="option-label">a) Las expectativas de mi familia o mi pareja.</label>
                            <input type="radio" name="q5" id="q5b" value="c"><label for="q5b" class="option-label">b) La presión social o la idea de "éxito" que impone la sociedad.</label>
                            <input type="radio" name="q5" id="q5c" value="b"><label for="q5c" class="option-label">c) Mi propio perfeccionismo o mi miedo a no hacer las cosas de forma excelente.</label>
                            <input type="radio" name="q5" id="q5d" value="na"><label for="q5d" class="option-label">d) La procrastinación, dejando las cosas importantes para "después".</label>
                            <input type="radio" name="q5" id="q5e" value="na"><label for="q5e" class="option-label">e) El cansancio o la falta de energía para perseguir mis verdaderos anhelos.</label>
                            <input type="radio" name="q5" id="q5f" value="f"><label for="q5f" class="option-label">f) La duda sobre si realmente soy capaz o merecedor de lo que quiero.</label>
                        </div>
                    </div>

                    <div class="card question-card">
                        <h3 class="text-xl mb-4">6. ¿Qué creencia limitante resuena más contigo cuando piensas en un gran cambio?</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q6" id="q6a" value="na" required><label for="q6a" class="option-label">a) "No tengo suficiente dinero/tiempo/recursos para empezar".</label>
                            <input type="radio" name="q6" id="q6b" value="na"><label for="q6b" class="option-label">b) "Ya es demasiado tarde para cambiar de rumbo".</label>
                            <input type="radio" name="q6" id="q6c" value="a"><label for="q6c" class="option-label">c) "Necesito saberlo todo y tener un plan perfecto antes de dar el primer paso".</label>
                            <input type="radio" name="q6" id="q6d" value="b"><label for="q6d" class="option-label">d) "Fracasar sería terrible, no podría soportar la decepción (propia o ajena)".</label>
                            <input type="radio" name="q6" id="q6e" value="na"><label for="q6e" class="option-label">e) "Hay otros que son mucho mejores que yo en eso".</label>
                            <input type="radio" name="q6" id="q6f" value="c"><label for="q6f" class="option-label">f) "Priorizar mis sueños es egoísta, tengo otras responsabilidades".</label>
                        </div>
                    </div>

                    <div class="card question-card">
                        <h3 class="text-xl mb-4">7. De los siguientes verbos, ¿cuál sientes que describe mejor la "acción" central de tu propósito?</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q7" id="q7a" value="b" required><label for="q7a" class="option-label">a) Inspirar</label>
                            <input type="radio" name="q7" id="q7b" value="b"><label for="q7b" class="option-label">b) Crear</label>
                            <input type="radio" name="q7" id="q7c" value="f"><label for="q7c" class="option-label">c) Sanar</label>
                            <input type="radio" name="q7" id="q7d" value="a"><label for="q7d" class="option-label">d) Organizar</label>
                            <input type="radio" name="q7" id="q7e" value="c"><label for="q7e" class="option-label">e) Conectar</label>
                            <input type="radio" name="q7" id="q7f" value="d"><label for="q7f" class="option-label">f) Descubrir</label>
                        </div>
                    </div>

                    <div class="card question-card">
                        <h3 class="text-xl mb-4">8. ¿Cuál es tu forma natural de abordar un nuevo proyecto o idea que te entusiasma?</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q8" id="q8a" value="a" required><label for="q8a" class="option-label">a) Planificar meticulosamente cada paso antes de empezar.</label>
                            <input type="radio" name="q8" id="q8b" value="d"><label for="q8b" class="option-label">b) Lanzarme a la acción y experimentar, aprendiendo sobre la marcha.</label>
                            <input type="radio" name="q8" id="q8c" value="c"><label for="q8c" class="option-label">c) Buscar a otras personas para colaborar y construir la idea juntos.</label>
                            <input type="radio" name="q8" id="q8d" value="a"><label for="q8d" class="option-label">d) Investigar y aprender todo lo posible sobre el tema primero.</label>
                            <input type="radio" name="q8" id="q8e" value="b"><label for="q8e" class="option-label">e) Empezar con un pequeño prototipo o una versión de prueba para ver si funciona.</label>
                            <input type="radio" name="q8" id="q8f" value="f"><label for="q8f" class="option-label">f) Reflexionar internamente hasta tener una visión clara de lo que quiero lograr.</label>
                        </div>
                    </div>

                    <div class="card question-card">
                        <h3 class="text-xl mb-4">9. Frente a un obstáculo inesperado que bloquea tu camino, tu primera reacción suele ser...</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q9" id="q9a" value="a" required><label for="q9a" class="option-label">a) Analizar la situación fríamente para encontrar una solución lógica.</label>
                            <input type="radio" name="q9" id="q9b" value="b"><label for="q9b" class="option-label">b) Buscar una ruta creativa o una forma no convencional de rodearlo.</label>
                            <input type="radio" name="q9" id="q9c" value="c"><label for="q9c" class="option-label">c) Pedir consejo o ayuda a personas de confianza.</label>
                            <input type="radio" name="q9" id="q9d" value="f"><label for="q9d" class="option-label">d) Detenerme a reflexionar sobre qué puedo aprender de esta situación.</label>
                            <input type="radio" name="q9" id="q9e" value="e"><label for="q9e" class="option-label">e) Sentir la frustración, pero luego usarla como combustible para intentarlo con más fuerza.</label>
                            <input type="radio" name="q9" id="q9f" value="d"><label for="q9f" class="option-label">f) Dar un paso atrás y re-evaluar si el objetivo sigue siendo el correcto para mí.</label>
                        </div>
                    </div>

                    <div class="card question-card">
                        <h3 class="text-xl mb-4">10. La lección más importante que has aprendido de tus "fracasos" pasados es...</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q10" id="q10a" value="f" required><label for="q10a" class="option-label">a) El descubrimiento de una fortaleza interna que no sabía que tenía.</label>
                            <input type="radio" name="q10" id="q10b" value="b"><label for="q10b" class="option-label">b) La importancia de la flexibilidad y la capacidad de adaptación.</label>
                            <input type="radio" name="q10" id="q10c" value="c"><label for="q10c" class="option-label">c) Quiénes son las personas que realmente me apoyan incondicionalmente.</label>
                            <input type="radio" name="q10" id="q10d" value="d"><label for="q10d" class="option-label">d) Una mayor claridad sobre lo que realmente no quiero en mi vida.</label>
                            <input type="radio" name="q10" id="q10e" value="e"><label for="q10e" class="option-label">e) Que soy mucho más resiliente de lo que pensaba.</label>
                            <input type="radio" name="q10" id="q10f" value="a"><label for="q10f" class="option-label">f) Una habilidad o conocimiento práctico que solo pude adquirir a través del error.</label>
                        </div>
                    </div>

                    <div class="card question-card">
                        <h3 class="text-xl mb-4">11. ¿Qué actividad te "recarga las baterías" de forma más efectiva y te hace sentir verdaderamente tú mismo/a?</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q11" id="q11a" value="f" required><label for="q11a" class="option-label">a) La calma y el silencio: pasar tiempo a solas, meditar o estar en la naturaleza.</label>
                            <input type="radio" name="q11" id="q11b" value="c"><label for="q11b" class="option-label">b) La conexión social: compartir tiempo de calidad con amigos o seres queridos.</label>
                            <input type="radio" name="q11" id="q11c" value="b"><label for="q11c" class="option-label">c) La expresión creativa: pintar, escribir, tocar un instrumento o cualquier forma de arte.</label>
                            <input type="radio" name="q11" id="q11d" value="d"><label for="q11d" class="option-label">d) El movimiento físico: hacer deporte, bailar, caminar o cualquier actividad corporal.</label>
                            <input type="radio" name="q11" id="q11e" value="a"><label for="q11e" class="option-label">e) La estimulación intelectual: leer un buen libro, aprender algo nuevo o tener una conversación profunda.</label>
                            <input type="radio" name="q11" id="q11f" value="e"><label for="q11f" class="option-label">f) El servicio: sentir que estoy siendo útil o ayudando a alguien de alguna manera.</label>
                        </div>
                    </div>

                    <div class="card question-card">
                        <h3 class="text-xl mb-4">12. ¿De qué manera te gustaría que tu vida impactara positivamente a los demás?</h3>
                        <div class="space-y-3">
                            <input type="radio" name="q12" id="q12a" value="d" required><label for="q12a" class="option-label">a) Sirviendo como un ejemplo de autenticidad y valentía.</label>
                            <input type="radio" name="q12" id="q12b" value="e"><label for="q12b" class="option-label">b) Creando oportunidades (empleo, proyectos) para que otros crezcan.</label>
                            <input type="radio" name="q12" id="q12c" value="c"><label for="q12c" class="option-label">c) Generando un ambiente de alegría, amor y apoyo a mi alrededor.</label>
                            <input type="radio" name="q12" id="q12d" value="a"><label for="q12d" class="option-label">d) Compartiendo mi conocimiento y sabiduría para guiar a otros.</label>
                            <input type="radio" name="q12" id="q12e" value="b"><label for="q12e" class="option-label">e) Dejando una obra (artística, empresarial, etc.) que inspire o sea útil a futuras generaciones.</label>
                            <input type="radio" name="q12" id="q12f" value="f"><label for="q12f" class="option-label">f) Aliviando el sufrimiento o contribuyendo a la sanación de otros.</label>
                        </div>
                    </div>

                    <!-- CAPTCHA Y POLÍTICAS -->
                    <div class="card mt-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div>
                                <label for="captcha" class="font-medium block mb-2">Prueba de seguridad</label>
                                <div class="flex items-center space-x-4">
                                    <div id="captcha-container" class="relative w-40 h-16 bg-gray-100 rounded-md p-1 flex items-center justify-center overflow-hidden border">
                                       <span id="captcha-question-text" class="text-2xl font-bold text-gray-800 select-none tracking-widest"></span>
                                    </div>
                                    <input type="number" id="captcha-answer" class="input-styled w-24">
                                    <button type="button" id="reload-captcha" class="text-sm text-[#E8A613] hover:underline whitespace-nowrap">Cambiar</button>
                                </div>
                            </div>
                            <div>
                                <div class="flex items-start mt-6 md:mt-0">
                                    <input id="politicas" name="politicas" type="checkbox" class="h-4 w-4 text-[#E8A613] focus:ring-[#d4940f] border-gray-300 rounded mt-1">
                                    <div class="ml-3 text-sm">
                                        <label for="politicas" class="text-gray-600">He leído y acepto la <a href="https://caminosdelser.co/politicadatos.html" target="_blank" class="font-medium text-[#E8A613] hover:underline">política de privacidad y tratamiento de datos</a>.</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="validation-message" class="text-red-600 text-center my-4 hidden">Por favor, responde todas las preguntas, completa la prueba de seguridad y acepta las políticas antes de continuar.</div>
                    
                    <div class="text-center mt-8">
                        <button id="submit-button" type="submit" class="btn-brand text-lg" disabled>Finalizar y Ver mis Resultados</button>
                    </div>
                </section>
            </div>
        </form>
    </main>

    <!-- BANNER DE COOKIES -->
    <div id="cookie-banner" class="fixed bottom-0 left-0 right-0 bg-gray-800 text-white p-4 flex flex-col md:flex-row justify-between items-center z-30 hidden gap-4 md:gap-0">
        <p class="text-sm text-center md:text-left">Este sitio web utiliza cookies para mejorar tu experiencia. Al continuar navegando, aceptas su uso. Para más información, consulta nuestra <a href="https://caminosdelser.co/politicadatos.html" target="_blank" class="font-medium hover:underline text-gray-300">Política de Protección de Datos</a>.</p>
        <button id="accept-cookies" class="bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded whitespace-nowrap">Aceptar</button>
    </div>

    <!-- FOOTER -->
    <footer class="bg-[#070404] text-white py-12">
        <div class="container mx-auto text-center px-6">
            <p class="text-gray-400">&copy; 2025 Jorge Arango Castaño - DPvPer.</p>
            <a href="terapeuta-login.html" class="text-sm text-gray-400 hover:text-white transition-colors mt-2 inline-block">Acceso Terapeutas</a>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const startQuestionnaireButton = document.getElementById('start-questionnaire-button');
            const demographicsWrapper = document.getElementById('demographics-wrapper');
            const questionnaireWrapper = document.getElementById('cuestionario-wrapper');
            const form = document.getElementById('dpvperForm');
            const submitButton = document.getElementById('submit-button');
            
            startQuestionnaireButton.addEventListener('click', () => {
                const demographicsForm = demographicsWrapper.querySelector('section');
                const inputs = demographicsForm.querySelectorAll('input, select');
                let allFilled = true;
                
                const emailInput = document.getElementById('email');
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                
                inputs.forEach(input => {
                    let isValid = true;
                    if (!input.value) isValid = false;
                    if (input.type === 'email' && !emailRegex.test(input.value)) isValid = false;
                    if (input.type === 'number' && input.id === 'edad' && input.value < 15) isValid = false;

                    if (!isValid) {
                        allFilled = false;
                        input.classList.add('border-red-500');
                    } else {
                         input.classList.remove('border-red-500');
                    }
                });

                const validationDiv = document.getElementById('demographics-validation');
                if (allFilled) {
                    validationDiv.classList.add('hidden');
                    demographicsWrapper.classList.add('hidden');
                    questionnaireWrapper.classList.remove('hidden');
                    questionnaireWrapper.scrollIntoView({ behavior: 'smooth' });
                } else {
                    validationDiv.textContent = 'Por favor, completa todos los campos correctamente.';
                    validationDiv.classList.remove('hidden');
                }
            });

            const captchaQuestionText = document.getElementById('captcha-question-text');
            const captchaAnswer = document.getElementById('captcha-answer');
            const reloadCaptchaBtn = document.getElementById('reload-captcha');
            const politicasCheckbox = document.getElementById('politicas');
            let captchaResult;

            function generateCaptcha() {
                const num1 = Math.floor(Math.random() * 10) + 1;
                const num2 = Math.floor(Math.random() * 10) + 1;
                captchaResult = num1 + num2;
                captchaQuestionText.textContent = `${num1} + ${num2} =`;
            }
            reloadCaptchaBtn.addEventListener('click', generateCaptcha);
            generateCaptcha();

            function checkFormValidity() {
                const captchaCorrect = parseInt(captchaAnswer.value, 10) === captchaResult;
                const politicasAccepted = politicasCheckbox.checked;
                submitButton.disabled = !(captchaCorrect && politicasAccepted);
            }
            captchaAnswer.addEventListener('input', checkFormValidity);
            politicasCheckbox.addEventListener('change', checkFormValidity);

            const cookieBanner = document.getElementById('cookie-banner');
            const acceptCookiesButton = document.getElementById('accept-cookies');
            if (localStorage.getItem('cookiesAccepted') !== 'true') {
                cookieBanner.classList.remove('hidden');
            }
            acceptCookiesButton.addEventListener('click', () => {
                localStorage.setItem('cookiesAccepted', 'true');
                cookieBanner.classList.add('hidden');
            });
            
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                let allQuestionsAnswered = true;
                for (let i = 1; i <= 12; i++) {
                    if (!form.elements[`q${i}`].value) {
                        allQuestionsAnswered = false;
                        break;
                    }
                }

                const validationMessage = document.getElementById('validation-message');
                if (!allQuestionsAnswered) {
                    validationMessage.classList.remove('hidden');
                    return;
                }
                
                validationMessage.classList.add('hidden');
                submitButton.disabled = true;
                submitButton.textContent = 'Procesando...';

                const demograficos = {
                    nombre: document.getElementById('nombre').value,
                    email: document.getElementById('email').value,
                    edad: parseInt(document.getElementById('edad').value, 10),
                    pais: document.getElementById('pais').value,
                    nivel_educativo: document.getElementById('nivel_educativo').value,
                    situacion_laboral: document.getElementById('situacion_laboral').value,
                    situacion_sentimental: document.getElementById('situacion_sentimental').value,
                    hijos: parseInt(document.getElementById('hijos').value, 10),
                    mascotas: document.getElementById('mascotas').value,
                };

                const respuestas = {};
                for (let i = 1; i <= 12; i++) {
                    respuestas[`q${i}`] = form.elements[`q${i}`].value;
                }

                const datosCompletos = {
                    demograficos,
                    respuestas,
                    tipo: 'DPvPer'
                };
                
                sessionStorage.setItem('dpvperResultados', JSON.stringify(datosCompletos));

                try {
                    const response = await fetch('/api/enviar-reporte-personal', {
                        method: 'POST',
                        body: JSON.stringify(datosCompletos),
                        headers: { 'Content-Type': 'application/json' }
                    });

                    if (response.ok) {
                        window.location.href = `rdpvper2.html`;
                    } else {
                        const errorData = await response.json();
                        alert(`Error: ${errorData.message || 'Hubo un problema al enviar tus resultados.'}`);
                        submitButton.disabled = false;
                        submitButton.textContent = 'Finalizar y Ver mis Resultados';
                    }
                } catch (error) {
                    alert('Hubo un error de conexión. Por favor, revisa tu conexión a internet e intenta de nuevo.');
                    submitButton.disabled = false;
                    submitButton.textContent = 'Finalizar y Ver mis Resultados';
                }
            });
        });
    </script>
</body>
</html>

